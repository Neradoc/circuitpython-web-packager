<!DOCTYPE html>
<html>
<head>
<!--
SPDX-FileCopyrightText: Copyright (c) 2022 Neradoc, https://neradoc.me
SPDX-License-Identifier: MIT
-->
	<title></title>
	<link rel="shortcut icon" type="image/jpg" href="favicon.png"/>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link rel="stylesheet" href="workflow.css">
	<script src="jquery.min.js" defer="true"></script>
	<script src="jszip.min.js"></script>
	<script src="workflow.js" defer="true" type="module"></script>
</head>
<body>
	<header>
	<h1 id="top_title"><span class="board_name">Loading...</span></h1>
	<p id="version_info_subtitle">
		<span class="subtitle_text">With Circuipython <span class="circuitpy_version"></span>.</span>
	</p>
	</header>
	<content>
	<div id="tablist">
		<button class="tab_link tab_link_welcome active"
			value="welcome">Welcome</button>
		<button class="tab_link tab_link_files"
			value="files">Files Browser</button>
		<button class="tab_link tab_link_bundle"
			value="bundle">Library Bundles</button>
		<button class="tab_link tab_link_circup"
			value="circup">Installer</button>
	</div>
	<div id="welcome_page" class="tab_page tab_page_welcome">
		<h3>Welcome !</h3>
		<p>Todo.</p>
		<p>Other boards list (use URL parameter to select board).</p>
		<p>Link to the board's own web workflow.</p>
		<p>Link to the serial REPL thingamabob.</p>
		<p>Info about version and all that.</p>
		<p>
			API password (&#9888;&#65039; transmitted unencrypted)<br/>
			<input name="password" id="password" type="password" placeholder="passw0rd"/>
		</p>
	</div>
	<div id="filelist" class="tab_page tab_page_files">
		<table>
			<thead>
				<tr>
					<th id="pwd" colspan="4"></th>
					<th id="pwd" colspan="1"><button class="refresh_list">🔄</button></th>
				</tr>
				<tr>
					<th>Type</th>
					<th>Size</th>
					<th>Path</th>
					<th>Modified</th>
					<th></th>
				</tr>
			</thead>
			<tbody></tbody>
		<template id="row">
			<tr>
				<td class="type"></td>
				<td class="size"></td>
				<td class="path"><a></a></td>
				<td class="modified"></td>
				<td class="buttons">
					<button class="delete">🗑️</button>
					<button class="analyse">🔎</button>
				</td>
			</tr>
		</template>
		</table>
		<img id="file_list_loading_image" src="loading_black.gif" />
		<div id="file_list_error_image">&#9888;&#65039;</div>
		<commands>
		<group>
			<input type="file" id="files" multiple />
			<button type="submit" id="upload">Upload</button>
		</group>
		<group>
			+📁&nbsp;<input type="text" placeholder="New Directory" id="name" />
			<button type="submit" id="mkdir">Create Directory</button>
		</group>
		<group class="install_buttons">
			<button type="submit" class="auto_install">Auto Install</button>
			<button type="submit" class="update_all">Update All</button>
		</group>
		</command>
	</div>
	<div id="bundle_list" class="tab_page tab_page_bundle">
		<h3>Bundle Library Installer</h3>

		<div id="bundle_filter">
			<input name="bundle_filter" value="" placeholder="Enter library name to filter"/>
			<button id="bundle_clear_search">Clear</button>
			<button id="bundle_deselect_all">Deselect All</button>
			<button id="bundle_install">Install The Dependencies</button>
		</div>

		<div class="lists">
			<div class="title">Modules <span id="nselected"></span></div>
			<div class="title">Dependencies (<span class="num_deps">0</span>)</div>
			<div id="bundle_modules" class="liste"><img class="loading_image" src="loading_black_small.gif"/></div>
			<div id="bundle_dependencies" class="liste"></div>
		</div>
	</div>
	<div id="circup_page" class="tab_page tab_page_circup">
		<h3>Circup Library Manager</h3>
		<p>
			<commands>
			<group class="install_buttons">
				<button type="submit" class="auto_install">Auto Install</button>
				<button type="submit" class="update_all">Update All</button>
			</group>
			</command>
		</p>
		<p class="loading hide">Loading libraries...</p>
		<p class="title hide">
			Dependencies and updates for <b class="filename">???</b>
		</p>
		<p class="buttons hide"><button id="button_install_all" name="install_all" value="">Install All</button> <button id="toggle_updates">Show/Hide Up-to-date</button></p>
		<p class="all_up_to_date hide">All libraries are up to date.</p>
		<div id="dependencies">
			<table>
			<thead class="hide">
				<tr>
					<th class="upload"></th>
					<th class="name">Module</th>
					<th class="board_version">Board</th>
					<th class="bundle_version">Bundle</th>
					<th class="status" colspan="2">Status</th>
				</tr>
			</thead>
			<tbody>
			<template id="circup_row">
				<tr class="line">
					<td class="upload"><button name="install" value="">Install</button></td>
					<!-- <td class="icon"></td> -->
					<td class="name"></td>
					<td class="board_version"></td>
					<td class="bundle_version"></td>
					<td class="status_icon"></td>
					<td class="status"></td>
				</tr>
			</template>
			</tbody>
			</table>
		</div>
	</div>
	</content>
</body>
</html>
