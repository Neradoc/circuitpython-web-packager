<!DOCTYPE html>
<html>
<head>
<!--
SPDX-FileCopyrightText: Copyright (c) 2022 Neradoc, https://neradoc.me
SPDX-License-Identifier: MIT
-->
	<title></title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Security-Policy"
		  content="default-src 'self'; connect-src *">
	<link rel="shortcut icon" type="image/jpg" href="assets/images/favicon.png"/>
	<link rel="stylesheet" href="assets/main/workflow.css">
	<script src="assets/extlib/jquery.min.js"></script>
	<script src="assets/extlib/jszip.min.js"></script>
	<script src="assets/main/workflow.js" defer="true" type="module"></script>
</head>
<body>
	<header>
	<h1 id="top_title">
		<span class="icon">
			<img class="icon_usb" src="assets/images/icon-usb.png"/>
			<img class="icon_web" src="assets/images/icon-web.png"/>
			<img class="icon_locked" src="assets/images/icon-locked.png"/>
		</span>
		<span class="board_name">Loading…</span>
	</h1>
	<!--<p id="version_info_subtitle">
		<span class="subtitle_text">With Circuipython <span class="circuitpy_version"></span>.</span>
	</p>-->
	</header>
	<content>
	<div id="tablist">
		<button class="tab_link tab_link_welcome"
			value="welcome">Welcome</button>
		<button class="tab_link tab_link_files active"
			value="files">Files Browser</button>
		<button class="tab_link tab_link_bundle"
			value="bundle">Library Bundles</button>
		<button class="tab_link tab_link_circup"
			value="circup">Installer</button>
	</div>
	<div id="welcome_page" class="tab_page tab_page_welcome hide">
		<h3>Welcome !</h3>
		<div>
			<p>Connected to <a class="board_name" href="">(Loading…)</a>.</p>
			<p>With Circuitpython <span class="circuitpy_version">x.x.x</span>.</p>
			<p>Serial number: <span class="serial_number">N/A</span>.</p>
		</div>
		<div class="web_workflow">On-board web workflow: <a class="board_link" href="">(Loading…)</a></div>
		<div class="web_workflow">Connect to the Serial REPL: <a class="board_repl" href="">(Loading…)</a></div>
		<div class="web_workflow">IP address: <a class="board_ip" href="">??.??.??.??</a></div>
		<div class="web_workflow"><button class="show_password_dialog">Set password for this board.</button></div>
	</div>
	<div id="file_list" class="tab_page tab_page_files">
		<table id="file_list_list" class="loading">
			<thead>
				<tr>
					<th id="pwd" colspan="4">
						<img class="icon_locked" src="assets/images/icon-locked.png"/>
						<span class="dir_path"></span>
					</th>
					<th colspan="1"><button class="refresh_list">🔄</button></th>
				</tr>
				<tr>
					<th>Type</th>
					<th>Size</th>
					<th>Path</th>
					<th>Modified</th>
					<th></th>
				</tr>
			</thead>
			<tbody id="file_list_error">
				<tr><td colspan="99">
					<div id="file_list_error_image">&#9888;&#65039;</div>
					<div id="file_list_error_label"></div>
				</td></tr>
			</tbody>
			<tbody id="file_list_body"></tbody>
			<tbody class="template">
				<tr id="file_list_template">
					<td class="type"></td>
					<td class="size"></td>
					<td class="path"><a class="path" target="_blank"></a></td>
					<td class="modified"></td>
					<td class="buttons">
						<a class="delete">🗑️</a>
						<a href="" target="_blank" class="edit">
							<span class="pencil">📝</span>
							<span class="view">📄<!-- 👁 --></span>
						</a>
						<a class="analyze">🔎</a>
					</td>
				</tr>
			</tbody>
		</table>
		<div id="file_list_loading_image"><img src="assets/images/loading_black.gif" /></div>
		<commands>
		<group>
			<input type="file" id="files_upload" name="files" multiple />
			<button type="submit" id="upload">Upload</button>
		</group>
		<group>
			+📁&nbsp;<input type="text" placeholder="New Directory" id="name" />
			<button type="submit" id="mkdir">Create Directory</button>
		</group>
		<group class="install_buttons">
			<button type="submit" class="auto_install">Auto Install...</button>
			<button type="submit" class="update_all">Update All...</button>
		</group>
		</command>
	</div>
	<div id="bundle_list" class="tab_page tab_page_bundle hide">
		<!-- <h3>Bundle Library Installer</h3> -->
		<p>Install libraries from the bundles. Select the modules you want in the list, and click on the Install button to send the list of all the dependencies to the installer.</p>
		<div id="bundle_filter">
			<input name="bundle_filter" value="" placeholder="Enter library name to filter"/>
			<button id="bundle_clear_search">Clear</button>
			<button id="bundle_deselect_all">Deselect All</button>
			<button id="bundle_install">Install These Dependencies...</button>
		</div>

		<div class="lists">
			<div class="title">Modules <span id="nselected"></span></div>
			<div class="title">Dependencies (<span class="num_deps">0</span>)</div>
			<div id="bundle_modules" class="liste"><img class="loading_image" src="assets/images/loading_black_small.gif"/></div>
			<div id="bundle_dependencies" class="liste"></div>
		</div>
	</div>
	<div id="circup_page" class="tab_page tab_page_circup hide">
		<h3>Circup Library Manager</h3>
		<p>
			<commands>
			<group class="install_buttons">
				<button type="submit" class="auto_install">Auto Install...</button>
				<button type="submit" class="update_all">Update All...</button>
			</group>
			<group class="buttons hide">
				<!-- <button id="toggle_updates">Show/Hide Up-to-date</button> -->
				<button id="show_updates">Show Up-to-date</button>
				<button id="hide_updates">Hide Up-to-date</button>
			</group>
			</command>
		</p>
		<p class="loading hide">Loading libraries...</p>
		<p class="title hide">
			Dependencies and updates for <b class="filename">???</b>
		</p>
		<p class="all_up_to_date hide">All libraries are up to date.</p>
		<div id="dependencies">
			<table>
			<thead class="hide">
				<tr>
					<th class="upload"><button id="button_install_all" name="install_all" value="">Upload All</button></th>
					<th class="name">Module</th>
					<th class="board_version">Board</th>
					<th class="bundle_version">Bundle</th>
					<th class="status" colspan="2">Status</th>
				</tr>
			</thead>
			<tbody class="template">
				<tr id="circup_row_template" class="line">
					<td class="upload"><button name="install" value="" disabled>Upload</button></td>
					<!-- <td class="icon"></td> -->
					<td class="name"></td>
					<td class="board_version"></td>
					<td class="bundle_version"></td>
					<td class="status_icon"></td>
					<td class="status"></td>
				</tr>
			</tbody>
			<tbody id="circup_row_list">
			</tbody>
			</table>
		</div>
	</div>
	<div id="small_load_image"><img class="small_load_image" src="assets/images/loading_black_small.gif" /></div>
	</content>
	<div id="blanket"></div>
	<div class="web_workflow" id="password_dialog">
		Set the API password.<br/>
		&#9888;&#65039; transmitted unencrypted !<br/>
		<input name="password" id="password" type="password" placeholder="passw0rd"/><br/>
		<label for="remember_password">
			<input name="remember_password" type="checkbox" id="remember_password"/>
			Remember (&#9888;&#65039; not secure).
		</label><br/>
		<button class="cancel_button">Cancel</button>
		<button class="ok_button">OK</button>
	</div>
</body>
</html>
